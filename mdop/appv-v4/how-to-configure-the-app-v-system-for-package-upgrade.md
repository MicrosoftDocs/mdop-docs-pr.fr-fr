---
title: Procédure pour configurer le système App-V pour la mise à niveau d'un package
description: Procédure pour configurer le système App-V pour la mise à niveau d'un package
author: dansimp
ms.assetid: de133898-f887-46c1-9bc9-fbb03feac66a
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 5e5056f923c61aff39d9bd6e1d26f071177f7c12
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/26/2020
ms.locfileid: "10807270"
---
# <span data-ttu-id="fac4f-103">Procédure pour configurer le système App-V pour la mise à niveau d'un package</span><span class="sxs-lookup"><span data-stu-id="fac4f-103">How to Configure the App-V System for Package Upgrade</span></span>


<span data-ttu-id="fac4f-104">Lorsque vous déployez une nouvelle version d’un package d’application existant qui a été mis à niveau dans le Sequencer App-V, vous pouvez la déployer de sorte que les clients App-V diffusent automatiquement la nouvelle version dans le cache local.</span><span class="sxs-lookup"><span data-stu-id="fac4f-104">When you deploy a new version of an existing application package that has been upgraded in the App-V Sequencer, you can deploy it so that the App-V clients automatically stream the new version to the local cache.</span></span> <span data-ttu-id="fac4f-105">En fonction de la solution de diffusion en continu utilisée, il existe différentes procédures de configuration de la mise à niveau du package.</span><span class="sxs-lookup"><span data-stu-id="fac4f-105">Depending on the streaming solution you use, there are different procedures for configuring the package upgrade.</span></span> <span data-ttu-id="fac4f-106">Les sections suivantes décrivent les cas les plus courants de publication et de diffusion en continu, et incluent les procédures nécessaires à la configuration de la mise à niveau du package pour chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="fac4f-106">The following sections describe the most typical scenarios for publishing and streaming, and include the procedures necessary for configuring the package upgrade for each scenario.</span></span>

## <span data-ttu-id="fac4f-107">Utilisation d’un serveur de gestion pour la publication et la diffusion en continu</span><span class="sxs-lookup"><span data-stu-id="fac4f-107">Using a Management Server for both publishing and streaming</span></span>


<span data-ttu-id="fac4f-108">Dans ce scénario, un serveur d’administration d’applications-V unique est utilisé pour la publication et la diffusion en continu de packages et d’applications, et le protocole RTSP (S) requis.</span><span class="sxs-lookup"><span data-stu-id="fac4f-108">In this scenario, a single App-V Management Server is used for both publishing and streaming of packages and applications, and the RTSP(S) protocol is required.</span></span> <span data-ttu-id="fac4f-109">Lorsque le package d’origine est importé sur le serveur de gestion App-V, l’administrateur copie le dossier de package qui contient les fichiers créés par le Sequencer sur le dossier de contenu (par exemple, \\\\server\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="fac4f-109">When the original package is imported to the App-V Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="fac4f-110">L’administrateur modifie également l’entrée HREF du fichier OSD pour qu’il pointe sur le fichier SFT dans le dossier package, puis importe le package sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="fac4f-110">The administrator also edits the HREF entry in the OSD file to point to the SFT file in the package folder, and then imports the package to the server.</span></span>

<span data-ttu-id="fac4f-111">Lorsqu’un utilisateur est authentifié par le serveur de gestion, le serveur publie les applications de l’utilisateur en envoyant le fichier applist.xml au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-111">When a user is authenticated by the Management Server, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="fac4f-112">Le client récupère ensuite les fichiers et icônes d’OSD pour les applications à partir du serveur de gestion.</span><span class="sxs-lookup"><span data-stu-id="fac4f-112">The client then retrieves the OSD files and icons for the applications from the Management Server.</span></span> <span data-ttu-id="fac4f-113">Lorsque l’utilisateur double-clique sur l’icône d’une application, le contenu de l’application est transmis au cache client à partir du chemin d’accès spécifié dans le fichier OSD et l’application est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-113">When the user double-clicks an application icon, the application content is streamed to the client cache from the path that is specified in the OSD file, and the application is started.</span></span>

### <span data-ttu-id="fac4f-114">Pour mettre à niveau le package</span><span class="sxs-lookup"><span data-stu-id="fac4f-114">To upgrade the package</span></span>

<span data-ttu-id="fac4f-115">Pour ajouter une nouvelle version d’une application qui a été mise à niveau dans le Sequencer App-V, l’administrateur doit copier le nouveau fichier SFT et tout autre fichier modifié dans le même dossier que la version d’origine de l’application.</span><span class="sxs-lookup"><span data-stu-id="fac4f-115">To add a new version of an application that has been upgraded in the App-V Sequencer, the administrator must copy the new SFT file and any other modified files to the same folder as the original version of the application.</span></span> <span data-ttu-id="fac4f-116">L’administrateur doit alors utiliser **Ajouter une version** dans la console de gestion du serveur pour ajouter la nouvelle version du package.</span><span class="sxs-lookup"><span data-stu-id="fac4f-116">The administrator will then use **Add Version** in the server management console to add the new version of the package.</span></span>

<span data-ttu-id="fac4f-117">Lors du prochain démarrage de l’application par l’utilisateur, le serveur transmet automatiquement la nouvelle version au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-117">When the user next starts the application, the server streams the new version to the client automatically.</span></span> <span data-ttu-id="fac4f-118">Cette méthode spécifique de mise à niveau d’un package était auparavant appelée mise à niveau active.</span><span class="sxs-lookup"><span data-stu-id="fac4f-118">This specific method of upgrading a package was formerly known as an active upgrade.</span></span>

## <span data-ttu-id="fac4f-119">Utilisation d’un serveur de gestion pour la publication et d’un serveur de diffusion en continu</span><span class="sxs-lookup"><span data-stu-id="fac4f-119">Using a Management Server for publishing and a Streaming Server for streaming</span></span>


<span data-ttu-id="fac4f-120">Dans ce scénario, le serveur de gestion App-V est utilisé pour la publication des packages et le serveur de diffusion en continu est utilisé pour les packages et applications de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fac4f-120">In this scenario, the App-V Management Server is used for publishing the packages, and the Streaming Server is used for streaming packages and applications.</span></span> <span data-ttu-id="fac4f-121">Le protocole RTSP (S) est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="fac4f-121">The RTSP(S) protocol is required.</span></span> <span data-ttu-id="fac4f-122">Lorsque le package d’origine est importé sur le serveur de gestion, l’administrateur copie le dossier de package qui contient les fichiers créés par le Sequencer sur le dossier de contenu, par exemple \\\\server\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-122">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="fac4f-123">L’administrateur modifie l’entrée HREF dans le fichier OSD pour qu’il pointe sur le fichier SFT sur le serveur en flux continu, puis importe le package sur le serveur de gestion.</span><span class="sxs-lookup"><span data-stu-id="fac4f-123">The administrator edits the HREF entry in the OSD file to point to the SFT file on the Streaming Server, and then imports the package to the Management Server.</span></span>

<span data-ttu-id="fac4f-124">Pour configurer le serveur de diffusion en continu, l’administrateur copie le dossier du package à partir du serveur de gestion dans le dossier contenu du serveur de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fac4f-124">To set up the Streaming Server, the administrator copies the package folder from the Management Server to the CONTENT folder on the Streaming Server.</span></span> <span data-ttu-id="fac4f-125">Ce dossier doit avoir le même nom et chemin d’accès relatif sous le dossier CONTENT du serveur de diffusion en tant que sur le serveur de gestion, par exemple \\\\streamingserver\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-125">This folder must have the same name and relative path under the Streaming Server’s CONTENT folder as on the Management Server, for example, \\\\streamingserver\\CONTENT\\packagename.</span></span>

<span data-ttu-id="fac4f-126">Si le paramètre de source de source d’application (ASR) du client est configuré de manière à pointer sur le serveur de diffusion en continu, le client utilise ce paramètre au lieu du nom du serveur dans l’entrée HREF du fichier OSD.</span><span class="sxs-lookup"><span data-stu-id="fac4f-126">If the client’s Application Source Root (ASR) setting is configured to point to the Streaming Server, the client uses this setting instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="fac4f-127">Les champs ISR et OSR sur le client peuvent éventuellement être configurés de manière à pointer sur le serveur de gestion ou le serveur de diffusion en continu, en fonction de l’architecture système spécifique utilisée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-127">The ISR and OSR fields on the client can optionally be configured to point to either the Management Server or the Streaming Server, depending on the specific system architecture that is used.</span></span>

<span data-ttu-id="fac4f-128">Lorsqu’un utilisateur est authentifié par le serveur de gestion, le serveur publie les applications de l’utilisateur en envoyant le fichier applist.xml au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-128">When a user is authenticated by the Management Server, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="fac4f-129">Le client récupère les fichiers et icônes d’OSD pour les applications à partir du serveur de diffusion en continu ou du serveur de gestion, en fonction des paramètres dans les champs OSR et ISR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-129">The client retrieves the OSD files and icons for the applications from either the Streaming Server or the Management Server, depending on the settings in the OSR and ISR fields.</span></span>

<span data-ttu-id="fac4f-130">Lorsque l’utilisateur double-clique sur une icône d’application, le client utilise le chemin d’accès au fichier de contenu du package (SFT) contenu dans l’élément de fichier OSD HREF.</span><span class="sxs-lookup"><span data-stu-id="fac4f-130">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="fac4f-131">Si le système ASR est utilisé, le client remplace le nom du serveur (et le port et le protocole, le cas échéant) dans l’élément HREF par le chemin d’accès du serveur de diffusion spécifié dans ASR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-131">If the ASR is used the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the Streaming Server that is specified in the ASR.</span></span> <span data-ttu-id="fac4f-132">L’application est alors transmise à partir du serveur de diffusion en continu vers le cache du client et est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-132">The application is then streamed from the Streaming Server to the client cache and is started.</span></span>

### <span data-ttu-id="fac4f-133">Pour mettre à niveau le package</span><span class="sxs-lookup"><span data-stu-id="fac4f-133">To upgrade the package</span></span>

<span data-ttu-id="fac4f-134">Pour ajouter une nouvelle version d’une application qui a été mise à niveau dans le Sequencer App-V, l’administrateur doit copier la nouvelle version du fichier SFT et tout autre fichier modifié dans le même dossier que la version d’origine de l’application sur le serveur de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fac4f-134">To add a new version of an application that has been upgraded in the App-V Sequencer, the administrator must copy the new version of the SFT file and any other modified files to the same folder as the original version of the application on the Streaming Server.</span></span>

<span data-ttu-id="fac4f-135">Par souci de cohérence, il est recommandé de copier également les nouveaux fichiers dans le dossier sur le serveur de gestion.</span><span class="sxs-lookup"><span data-stu-id="fac4f-135">For consistency, we recommend that you copy new files to the folder on the Management Server as well.</span></span> <span data-ttu-id="fac4f-136">Par exemple, si vous utilisez les champs OSR ou ISR du client, copiez le fichier d’OSD et les icônes mis à jour sur le serveur spécifié dans les champs OSR et ISR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-136">In particular, if you use the client’s OSR or ISR fields, copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

<span data-ttu-id="fac4f-137">Après que le serveur de diffusion en continu a détecté la nouvelle version, au prochain démarrage de l’application, le serveur transmet automatiquement la nouvelle version au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-137">After the Streaming Server detects the new version, the next time the user starts the application, the server streams the new version to the client automatically.</span></span>

## <span data-ttu-id="fac4f-138">Utilisation d’un serveur de gestion pour la publication et d’un serveur IIS pour la diffusion en continu</span><span class="sxs-lookup"><span data-stu-id="fac4f-138">Using a Management Server for publishing and an IIS Server for streaming</span></span>


<span data-ttu-id="fac4f-139">Dans ce scénario, le serveur de gestion App-V est utilisé pour la publication des packages, et le serveur IIS est utilisé pour les packages et applications de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fac4f-139">In this scenario, the App-V Management Server is used for publishing the packages, and the IIS server is used for streaming packages and applications.</span></span> <span data-ttu-id="fac4f-140">Lorsque le package d’origine est importé sur le serveur de gestion, l’administrateur copie le dossier de package qui contient les fichiers créés par le Sequencer sur le dossier de contenu, par exemple \\\\server\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-140">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="fac4f-141">L’administrateur modifie l’entrée HREF dans le fichier OSD de sorte qu’il pointe vers le fichier SFT sur le serveur IIS, puis importe le package sur le serveur de gestion.</span><span class="sxs-lookup"><span data-stu-id="fac4f-141">The administrator edits the HREF entry in the OSD file so it points to the SFT file on the IIS server, and then imports the package to the Management Server.</span></span>

<span data-ttu-id="fac4f-142">Pour configurer le serveur IIS pour la diffusion en continu, l’administrateur copie le dossier de package du serveur de gestion vers le dossier contenu sur le serveur IIS.</span><span class="sxs-lookup"><span data-stu-id="fac4f-142">To set up the IIS server for streaming, the administrator copies the package folder from the Management Server to the CONTENT folder on the IIS Server.</span></span> <span data-ttu-id="fac4f-143">Ce dossier doit avoir le même nom et chemin d’accès relatif sous le dossier de contenu Web du serveur IIS, en ce qui concerne le serveur de gestion. par exemple, il est possible d’accéder à l’URL du serveur IIS en utilisant http://IISserver/CONTENT/packagename ou https://IISserver/CONTENT/packagename .</span><span class="sxs-lookup"><span data-stu-id="fac4f-143">This folder must have the same name and relative path under the IIS server’s Web Content folder as on the Management Server; for example, the URL on the IIS Server can be accessed by using http://IISserver/CONTENT/packagename or https://IISserver/CONTENT/packagename.</span></span>

<span data-ttu-id="fac4f-144">Si le paramètre de racine de l’application du client (ASR) est configuré de manière à pointer sur le serveur IIS, le client utilise le système ASR au lieu du nom du serveur dans l’entrée HREF du fichier OSD.</span><span class="sxs-lookup"><span data-stu-id="fac4f-144">If the client’s Application Source Root (ASR) setting is configured to point to the IIS Server, the client uses the ASR instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="fac4f-145">Vous pouvez éventuellement configurer les champs ISR et OSR sur le client de manière à ce qu’ils pointent vers le serveur de gestion ou le serveur IIS, en fonction de l’architecture système spécifique que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="fac4f-145">You can optionally configure the ISR and OSR fields on the client to point to either the Management Server or the IIS Server, depending on the specific system architecture that you use.</span></span>

<span data-ttu-id="fac4f-146">Lorsque le serveur de gestion authentifie l’utilisateur, le serveur publie les applications de l’utilisateur en envoyant le fichier applist.xml au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-146">When the Management Server authenticates the user, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="fac4f-147">Le client récupère les fichiers et icônes d’OSD pour les applications à partir du serveur IIS ou du serveur de gestion, en fonction des paramètres définis dans les champs ISR et OSR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-147">The client retrieves the OSD files and icons for the applications from either the IIS Server or the Management Server, depending on the settings in the ISR and OSR fields.</span></span>

<span data-ttu-id="fac4f-148">Lorsque l’utilisateur double-clique sur une icône d’application, le client utilise le chemin d’accès au fichier de contenu du package (SFT) contenu dans l’élément de fichier OSD HREF.</span><span class="sxs-lookup"><span data-stu-id="fac4f-148">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="fac4f-149">Si le système ASR est utilisé, le client remplace le nom du serveur (et le port et le protocole, le cas échéant) dans l’élément HREF par le chemin d’accès du serveur IIS spécifié dans le système ASR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-149">If the ASR is used the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the IIS Server that is specified in the ASR.</span></span> <span data-ttu-id="fac4f-150">L’application est alors transmise en continu à partir du serveur IIS au cache du client à l’aide du protocole HTTP (S) et est démarré.</span><span class="sxs-lookup"><span data-stu-id="fac4f-150">The application is then streamed from the IIS server to the client cache by using the HTTP(S) protocol and is started.</span></span>

### <span data-ttu-id="fac4f-151">Pour mettre à niveau le package</span><span class="sxs-lookup"><span data-stu-id="fac4f-151">To upgrade the package</span></span>

<span data-ttu-id="fac4f-152">Pour mettre à niveau le package, procédez comme suit:</span><span class="sxs-lookup"><span data-stu-id="fac4f-152">The procedure to upgrade the package is as follows:</span></span>

-   <span data-ttu-id="fac4f-153">Copiez la nouvelle version du fichier OSD dans le dossier du serveur de gestion, par exemple \\\\server\\CONTENT\\packagename, et remplacez le fichier OSD existant.</span><span class="sxs-lookup"><span data-stu-id="fac4f-153">Copy the new version of the OSD file to the original version’s folder under the Management Server’s CONTENT folder, for example \\\\server\\CONTENT\\packagename, and replace the existing OSD file.</span></span> <span data-ttu-id="fac4f-154">Par souci de cohérence, copiez également les fichiers modifiés.</span><span class="sxs-lookup"><span data-stu-id="fac4f-154">For consistency, copy any other modified files, too.</span></span> <span data-ttu-id="fac4f-155">Si les champs OSR ou ISR du client sont utilisés, copiez également les icônes et fichiers d’OSD mis à jour vers le serveur spécifié dans les champs OSR et ISR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-155">If the client’s OSR or ISR fields are used, then also copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

-   <span data-ttu-id="fac4f-156">Copiez la nouvelle version du fichier SFT dans le dossier Package sous le dossier de contenu Web sur le serveur IIS. par exemple, il est possible d’accéder à l’URL du serveur IIS en utilisant http://IISserver/CONTENT/packagename ou https://IISserver/CONTENT/packagename .</span><span class="sxs-lookup"><span data-stu-id="fac4f-156">Copy the new version of the SFT file to the package folder under the Web Content folder on the IIS server; for example, the URL on the IIS Server can be accessed by using http://IISserver/CONTENT/packagename or https://IISserver/CONTENT/packagename.</span></span>

<span data-ttu-id="fac4f-157">Lors de l’actualisation de publication suivante, le client est mis à jour avec la nouvelle version du fichier OSD.</span><span class="sxs-lookup"><span data-stu-id="fac4f-157">At the next publishing refresh, the client is updated with the new version of the OSD file.</span></span> <span data-ttu-id="fac4f-158">Ce fichier pointe désormais vers la nouvelle version du fichier SFT. par conséquent, lorsque l’utilisateur double-clique ensuite sur l’icône d’une application, la nouvelle version est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-158">This file now points to the new version of the SFT file; therefore, when the user next double-clicks an application icon, the new version is started.</span></span>

## <span data-ttu-id="fac4f-159">Utilisation d’un serveur de gestion pour la publication et d’un partage de fichiers pour la diffusion en continu</span><span class="sxs-lookup"><span data-stu-id="fac4f-159">Using a Management Server for publishing and a File Share for Streaming</span></span>


<span data-ttu-id="fac4f-160">Dans ce scénario, le serveur de gestion App-V est utilisé pour la publication des packages et le serveur de fichiers est utilisé pour les packages et applications de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fac4f-160">In this scenario, the App-V Management Server is used for publishing the packages, and the file server is used for streaming packages and applications.</span></span> <span data-ttu-id="fac4f-161">Lorsque le package d’origine est importé sur le serveur de gestion, l’administrateur copie le dossier de package qui contient les fichiers créés par le Sequencer sur le dossier de contenu, par exemple \\\\server\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-161">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="fac4f-162">L’administrateur modifie l’entrée HREF dans le fichier OSD de sorte qu’il pointe vers le fichier SFT sur le serveur de fichiers et importe le package sur le serveur de gestion.</span><span class="sxs-lookup"><span data-stu-id="fac4f-162">The administrator edits the HREF entry in the OSD file so that it points to the SFT file on the file server, and imports the package to the Management Server.</span></span>

<span data-ttu-id="fac4f-163">Pour configurer le serveur de fichiers pour la diffusion en continu, l’administrateur copie le dossier du package à partir du serveur de gestion dans le dossier contenu du serveur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="fac4f-163">To set up the file server for streaming, the administrator copies the package folder from the Management Server to the CONTENT folder on the file server.</span></span> <span data-ttu-id="fac4f-164">Ce dossier doit avoir le même nom et chemin d’accès relatif sous le dossier de contenu du serveur de fichiers que sur le serveur de gestion, par exemple \\\\fileserver\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-164">This folder must have the same name and relative path under the file server’s CONTENT folder as on the Management Server, for example \\\\fileserver\\CONTENT\\packagename.</span></span>

<span data-ttu-id="fac4f-165">Si le paramètre racine de l’application du client (ASR) est configuré de manière à ce qu’il pointe vers le serveur de fichiers à l’aide d’un chemin UNC (par exemple, \\\\fileserver\\content), le client utilise ce paramètre à la place du nom du serveur dans l’entrée HREF du fichier OSD.</span><span class="sxs-lookup"><span data-stu-id="fac4f-165">If the client’s Application Source Root (ASR) setting is configured to point to the file server by using a UNC path, for example \\\\fileserver\\content, the client uses this setting instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="fac4f-166">L’administrateur peut éventuellement configurer les champs ISR et OSR sur le client de manière à ce qu’il pointe vers le serveur de gestion ou le serveur de fichiers, en fonction de l’architecture système spécifique utilisée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-166">The administrator can optionally configure the ISR and OSR fields on the client to point to either the Management Server or the file server, depending on the specific system architecture being used.</span></span>

<span data-ttu-id="fac4f-167">Lorsque le serveur de gestion authentifie l’utilisateur, le serveur publie les applications de l’utilisateur en envoyant le fichier applist.xml au client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-167">When the Management Server authenticates the user, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="fac4f-168">Le client récupère les fichiers et icônes d’OSD pour les applications à partir du serveur de fichiers ou du serveur de gestion, en fonction des paramètres définis dans les champs ISR et OSR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-168">The client retrieves the OSD files and icons for the applications from either the file server or the Management Server, depending on the settings in the ISR and OSR fields.</span></span>

<span data-ttu-id="fac4f-169">Lorsque l’utilisateur double-clique sur une icône d’application, le client utilise le chemin d’accès au fichier de contenu du package (SFT) contenu dans l’élément de fichier OSD HREF.</span><span class="sxs-lookup"><span data-stu-id="fac4f-169">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="fac4f-170">Si la valeur ASR est utilisée, le client remplace le nom du serveur (et le port et le protocole, le cas échéant) dans l’élément HREF par le chemin d’accès du serveur de fichiers qui est spécifié dans le système ASR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-170">If the ASR is used, the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the file server that is specified in the ASR.</span></span> <span data-ttu-id="fac4f-171">L’application est alors transmise en continu à partir du serveur de fichiers vers le cache client et est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-171">The application is then streamed from the file server to the client cache and is started.</span></span>

### <span data-ttu-id="fac4f-172">Pour mettre à niveau le package</span><span class="sxs-lookup"><span data-stu-id="fac4f-172">To upgrade the package</span></span>

<span data-ttu-id="fac4f-173">Pour mettre à niveau le package, procédez comme suit:</span><span class="sxs-lookup"><span data-stu-id="fac4f-173">The procedure to upgrade the package is as follows:</span></span>

-   <span data-ttu-id="fac4f-174">Copiez la nouvelle version du fichier OSD dans le dossier du serveur de gestion, par exemple \\\\server\\CONTENT\\packagename, en remplaçant le fichier OSD existant.</span><span class="sxs-lookup"><span data-stu-id="fac4f-174">Copy the new version of the OSD file to the original version’s folder under the Management Server’s CONTENT folder, for example \\\\server\\CONTENT\\packagename, replacing the existing OSD file.</span></span> <span data-ttu-id="fac4f-175">Tout autre fichier modifié doit également être copié par souci de cohérence.</span><span class="sxs-lookup"><span data-stu-id="fac4f-175">Any other modified files should be copied as well for consistency.</span></span> <span data-ttu-id="fac4f-176">Si les champs OSR ou ISR du client sont utilisés, copiez également les icônes et fichiers d’OSD mis à jour vers le serveur spécifié dans les champs OSR et ISR.</span><span class="sxs-lookup"><span data-stu-id="fac4f-176">If the client’s OSR or ISR fields are used, then also copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

-   <span data-ttu-id="fac4f-177">Copiez la nouvelle version du fichier SFT dans le dossier Package sous le dossier CONTENT sur le serveur de fichiers, par exemple \\\\fileserver\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="fac4f-177">Copy the new version of the SFT file to the package folder under the CONTENT folder on the file server, for example \\\\fileserver\\CONTENT\\packagename.</span></span> <span data-ttu-id="fac4f-178">Copiez le fichier V2 SFT dans le dossier du partage de contenu sur le serveur de fichiers, par exemple \\\\fileserver\\CONTENT\\packagename\\V1.</span><span class="sxs-lookup"><span data-stu-id="fac4f-178">Copy the V2 SFT file to the folder under the CONTENT share on the file server, for example \\\\fileserver\\CONTENT\\packagename\\V1.</span></span>

<span data-ttu-id="fac4f-179">Lors de la prochaine actualisation de publication, le client est mis à jour avec la nouvelle version du fichier OSD.</span><span class="sxs-lookup"><span data-stu-id="fac4f-179">At the next publishing refresh the client is updated with the new version of the OSD file.</span></span> <span data-ttu-id="fac4f-180">Ce fichier pointe désormais vers une nouvelle version du fichier SFT, et lorsque l’utilisateur double-clique ensuite sur l’icône d’une application, la nouvelle version est démarrée.</span><span class="sxs-lookup"><span data-stu-id="fac4f-180">This file now points to new version of the SFT file, so when the user next double-clicks an application icon, the new version is started.</span></span>

## <span data-ttu-id="fac4f-181">Mise à niveau du package en utilisant le mode de diffusion en continu MSI</span><span class="sxs-lookup"><span data-stu-id="fac4f-181">Upgrading the package by using MSI Streaming mode</span></span>


<span data-ttu-id="fac4f-182">Lorsque vous générez un fichier Windows Installer (MSI) lors du séquençage d’un package, le Sequencer crée une. Fichier MSI contenant toutes les informations de publication nécessaires.</span><span class="sxs-lookup"><span data-stu-id="fac4f-182">When you generate a Windows Installer (MSI) file during sequencing a package, the sequencer creates a .MSI file that contains all the necessary publishing information.</span></span> <span data-ttu-id="fac4f-183">L’administrateur doit copier le. Fichier MSI au client et au. Fichier SFT contenant le contenu du package vers un partage réseau accessible à partir de l’ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-183">The administrator must copy the .MSI file to the client and the .SFT file containing the package content to a network share accessible by the client computer.</span></span>

<span data-ttu-id="fac4f-184">Pour publier l’application sur le client, exécutez la commande suivante sur l’ordinateur client:</span><span class="sxs-lookup"><span data-stu-id="fac4f-184">To publish the application to the client, run the following command on the client computer:</span></span>

   **<span data-ttu-id="fac4f-185">Msiexec.exe/i \\\\PathToMsi\\packagename.msi MODE = STREAMING OVERRIDEURL = \\\\\\\\server\\share\\package.sft</span><span class="sxs-lookup"><span data-stu-id="fac4f-185">Msiexec.exe /i \\\\PathToMsi\\packagename.msi MODE=STREAMING OVERRIDEURL=\\\\\\\\server\\share\\package.sft</span></span>**

<span data-ttu-id="fac4f-186">Cette. MSP publie les applications sur le client, puis diffuse le fichier. Fichier SFT dans le cache du client.</span><span class="sxs-lookup"><span data-stu-id="fac4f-186">The .MSI file publishes the applications to the client and then streams the .SFT file to the client cache.</span></span>

### <span data-ttu-id="fac4f-187">Pour mettre à niveau le package</span><span class="sxs-lookup"><span data-stu-id="fac4f-187">To upgrade the package</span></span>

<span data-ttu-id="fac4f-188">Pour ajouter une nouvelle version, un administrateur doit déployer un nouveau. Fichier MSI au client et nouveau. Fichier SFT sur le partage réseau.</span><span class="sxs-lookup"><span data-stu-id="fac4f-188">To add a new version, an administrator must deploy a new .MSI file to the client and a new .SFT file to the network share.</span></span> <span data-ttu-id="fac4f-189">L’administrateur doit alors exécuter la même commande utilisée pour déployer le package, mais utiliser le nouveau. Un fichier MSI et le nouveau. Fichier SFT, par exemple:</span><span class="sxs-lookup"><span data-stu-id="fac4f-189">The administrator must then run the same command used to deploy the package, but use the new .MSI file and the new .SFT file, for example:</span></span>

   **<span data-ttu-id="fac4f-190">Msiexec.exe/i \\\\PathToMsi\\packagename\_2.msi MODE = STREAMING OVERRIDEURL = \\\\\\\\server\\share\\package\_2.sft</span><span class="sxs-lookup"><span data-stu-id="fac4f-190">Msiexec.exe /i \\\\PathToMsi\\packagename\_2.msi MODE=STREAMING OVERRIDEURL=\\\\\\\\server\\share\\package\_2.sft</span></span>**

 

 





