---
title: Architecture de haut niveau pour UE-V1.0
description: Architecture de haut niveau pour UE-V1.0
author: dansimp
ms.assetid: d54f9f10-1a4d-4e56-802d-22d51646e1cc
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 76703cf4c7297401e6516830bf194cef741d60ec
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/26/2020
ms.locfileid: "10812150"
---
# <span data-ttu-id="27b75-103">Architecture de haut niveau pour UE-V1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-103">High-Level Architecture for UE-V 1.0</span></span>


<span data-ttu-id="27b75-104">Cette rubrique décrit les éléments architecturaux de haut niveau de la solution d’itinérance des paramètres Microsoft User Interface Virtualization (UE-V).</span><span class="sxs-lookup"><span data-stu-id="27b75-104">This topic describes high-level architectural elements of the Microsoft User Experience Virtualization (UE-V) settings roaming solution.</span></span> <span data-ttu-id="27b75-105">Les éléments suivants font partie d’un déploiement UE-V standard.</span><span class="sxs-lookup"><span data-stu-id="27b75-105">The following elements are part of a standard UE-V deployment.</span></span>

![diagramme de l’architecture UE-v](images/ue-vagentarchitecturaldiagram.gif)

<span data-ttu-id="27b75-107">L’agent UE-V surveille les applications et les processus du système d’exploitation tels qu’ils sont identifiés dans les modèles d’emplacement des paramètres d’UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-107">The UE-V Agent monitors the applications and the operating system processes as they are identified in the UE-V settings location templates.</span></span> <span data-ttu-id="27b75-108">Au démarrage de l’application ou du système d’exploitation, les paramètres sont lus à partir du package de paramètres et appliqués à l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="27b75-108">When the application or operating system starts, the settings are read from the settings package and applied to the computer.</span></span> <span data-ttu-id="27b75-109">Lorsque l’application se ferme ou que le système d’exploitation est verrouillé ou arrêté, les paramètres sont enregistrés dans un package de paramètres d’UE-V dans l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-109">When the application closes or when the operating system is locked or shut down, settings are saved in a UE-V settings package in the settings storage location.</span></span>

## <span data-ttu-id="27b75-110">Emplacement de stockage des paramètres</span><span class="sxs-lookup"><span data-stu-id="27b75-110">Settings storage location</span></span>


<span data-ttu-id="27b75-111">L’emplacement de stockage des paramètres est un partage de fichiers auquel l’agent de virtualisation accède pour lire et écrire des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-111">The settings storage location is a file share that the User Experience Virtualization agent accesses to read and write settings.</span></span> <span data-ttu-id="27b75-112">Cet emplacement est le répertoire de base de l’annuaire Active Directory ou défini au cours de l’installation d’UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-112">This location is either the Active Directory home directory or defined during the UE-V installation.</span></span> <span data-ttu-id="27b75-113">Vous pouvez définir l’emplacement de l’installation de l’agent UE-V ou vous pouvez le faire par la suite via une stratégie de groupe, WMI ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="27b75-113">You can set the location during the installation of the UE-V agent, or you can set it later with Group Policy, WMI, or PowerShell.</span></span> <span data-ttu-id="27b75-114">L’emplacement peut être situé sur n’importe quel partage de fichiers commun auquel les utilisateurs peuvent accéder.</span><span class="sxs-lookup"><span data-stu-id="27b75-114">The location can be on any common file share that users can access.</span></span> <span data-ttu-id="27b75-115">Si aucun emplacement de stockage de paramètres n’est défini lors de l’installation, UE-V utilisera le répertoire de base dans Active Directory.</span><span class="sxs-lookup"><span data-stu-id="27b75-115">If no setting storage location is set during installation then UE-V will use the home directory in Active Directory.</span></span> <span data-ttu-id="27b75-116">L’agent UE-V vérifie l’emplacement et crée un dossier système masqué à l’utilisateur dans lequel stocker et accéder aux paramètres de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="27b75-116">The UE-V agent verifies the location and creates a system folder that is hidden from the user in which to store and access the user settings.</span></span> <span data-ttu-id="27b75-117">Pour plus d’informations sur le stockage des paramètres, voir [préparer votre environnement pour UE-V](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="27b75-117">For more information about settings storage, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <span data-ttu-id="27b75-118">Agent UE-V</span><span class="sxs-lookup"><span data-stu-id="27b75-118">UE-V Agent</span></span>


<span data-ttu-id="27b75-119">L’agent UE-V est installé sur chaque ordinateur avec les paramètres qui sont synchronisés par la virtualisation de l’utilisation de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="27b75-119">The UE-V agent is installed on each computer with settings that are synchronized by User Experience Virtualization.</span></span> <span data-ttu-id="27b75-120">L’agent surveille les applications inscrites et le système d’exploitation pour toute modification apportée aux paramètres, et synchronise ces paramètres entre les ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="27b75-120">The agent monitors the registered applications and the operating system for any changes to that are made to settings, and it synchronizes those settings between computers.</span></span> <span data-ttu-id="27b75-121">Les paramètres sont appliqués à partir de l’emplacement de stockage des paramètres vers l’application au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="27b75-121">Settings are applied from the settings storage location to the application when the application is started.</span></span> <span data-ttu-id="27b75-122">Les paramètres sont ensuite enregistrés dans l’emplacement de stockage des paramètres à la fermeture de l’application.</span><span class="sxs-lookup"><span data-stu-id="27b75-122">The settings are then saved back to the settings storage location when the application closes.</span></span> <span data-ttu-id="27b75-123">Les paramètres du système d’exploitation sont appliqués lors de l’ouverture de session de l’utilisateur, lorsque l’ordinateur est déverrouillé ou lorsque l’utilisateur se connecte à distance à l’ordinateur à l’aide du protocole RDP (Remote Desktop Protocol).</span><span class="sxs-lookup"><span data-stu-id="27b75-123">The operating system settings are applied when the user logs on, when the computer is unlocked, or when the user connects remotely to the computer by using remote desktop protocol (RDP).</span></span> <span data-ttu-id="27b75-124">L’agent enregistre les paramètres lorsque l’utilisateur se déconnecte, lorsque l’ordinateur est verrouillé ou lorsqu’une connexion à distance est déconnectée.</span><span class="sxs-lookup"><span data-stu-id="27b75-124">The agent saves settings when the user logs off, when the computer is locked, or when a remote connection is disconnected.</span></span> <span data-ttu-id="27b75-125">Pour plus d’informations sur l’agent UE-V, voir [préparation de votre environnement pour UE-v](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="27b75-125">For more information about the UE-V Agent, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <a href="" id="bkmk-settingslocationtemplate"></a><span data-ttu-id="27b75-126">Modèles d’emplacement des paramètres</span><span class="sxs-lookup"><span data-stu-id="27b75-126">Settings location templates</span></span>


<span data-ttu-id="27b75-127">Le modèle d’emplacement des paramètres est un fichier XML qui définit les emplacements des paramètres à surveiller par la virtualisation de l’utilisation de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="27b75-127">The settings location template is an XML file that defines the settings locations to be monitored by User Experience Virtualization.</span></span> <span data-ttu-id="27b75-128">Seuls les emplacements de paramètres définis dans ces modèles de paramètres sont capturés ou appliqués sur des ordinateurs exécutant l’agent UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-128">Only the settings locations defined in these settings templates are captured or applied on computers running the UE-V Agent.</span></span> <span data-ttu-id="27b75-129">Le modèle d’emplacement des paramètres ne contient pas de valeurs de paramètres, uniquement les emplacements où les valeurs sont stockées sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="27b75-129">The settings location template does not contain settings values, only the locations where values are stored on the computer.</span></span>

<span data-ttu-id="27b75-130">UE-V inclut un ensemble de modèles d’emplacement des paramètres qui spécifient les emplacements des paramètres pour certains paramètres Windows et applications Microsoft.</span><span class="sxs-lookup"><span data-stu-id="27b75-130">UE-V includes a set of settings location templates that specify settings locations for some Microsoft applications and Windows settings.</span></span> <span data-ttu-id="27b75-131">Un administrateur peut créer des modèles d’emplacement des paramètres personnalisés à l’aide du générateur UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-131">An administrator can create custom settings location templates by using the UE-V Generator.</span></span>

[<span data-ttu-id="27b75-132">Planification des applications à synchroniser avec UE-V1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-132">Planning Which Applications to Synchronize with UE-V 1.0</span></span>](planning-which-applications-to-synchronize-with-ue-v-10.md)

[<span data-ttu-id="27b75-133">Planification du déploiement de modèle personnalisé d'UE-V1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-133">Planning for Custom Template Deployment for UE-V 1.0</span></span>](planning-for-custom-template-deployment-for-ue-v-10.md)

[<span data-ttu-id="27b75-134">Utilisation de modèles UE-V personnalisés et du Générateur UE-V</span><span class="sxs-lookup"><span data-stu-id="27b75-134">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

## <span data-ttu-id="27b75-135">Packages de paramètres</span><span class="sxs-lookup"><span data-stu-id="27b75-135">Settings packages</span></span>


<span data-ttu-id="27b75-136">Les paramètres d’application et les paramètres Windows sont stockés dans des packages de paramètres créés par l’agent UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-136">Application settings and Windows settings are stored in settings packages, which are created by the UE-V Agent.</span></span> <span data-ttu-id="27b75-137">Un package de paramètres est une collection de paramètres qui sont représentés dans les modèles d’emplacement des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-137">A settings package is a collection of the settings that are represented in the settings location templates.</span></span> <span data-ttu-id="27b75-138">Ces packages de paramètres sont intégrés, stockés localement, puis copiés dans l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-138">These settings packages are built, locally stored, and then copied to the settings storage location.</span></span> <span data-ttu-id="27b75-139">Le "dernier enregistrement gagne" détermine quels sont les paramètres qui sont conservés lorsqu’un utilisateur unique synchronise les plus d’un ordinateur à un emplacement de stockage.</span><span class="sxs-lookup"><span data-stu-id="27b75-139">“Last write wins” determines which settings are preserved when a single user synchronizes the more than one computer to a storage location.</span></span> <span data-ttu-id="27b75-140">L’agent qui s’exécute sur un ordinateur lit et écrit à l’emplacement des paramètres indépendamment des agents qui s’exécutent sur d’autres ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="27b75-140">The agent that runs on one computer reads and writes to the settings location independent of agents that run on other computers.</span></span> <span data-ttu-id="27b75-141">Les paramètres et valeurs récemment écrits sont appliqués lorsque l’agent suivant lit à partir de l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-141">The most recently written settings and values are applied when the next agent reads from the settings storage location.</span></span>

![processus du générateur UE-v](images/ue-vgeneratorprocess.gif)

## <span data-ttu-id="27b75-143">Catalogue de modèles de paramètres</span><span class="sxs-lookup"><span data-stu-id="27b75-143">Settings template catalog</span></span>


<span data-ttu-id="27b75-144">Le catalogue de modèles de paramètres correspond au chemin d’accès d’un dossier sur les ordinateurs UE-V ou un partage réseau de blocs de messages serveur (SMB) qui stocke tous les modèles d’emplacement des paramètres personnalisés.</span><span class="sxs-lookup"><span data-stu-id="27b75-144">The settings template catalog is a folder path on UE-V computers or a Server Message Block (SMB) network share that stores all the custom settings location templates.</span></span> <span data-ttu-id="27b75-145">L’agent UE-V récupère les modèles nouveaux ou mis à jour à partir de cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="27b75-145">The UE-V agent retrieves new or updated templates from this location.</span></span> <span data-ttu-id="27b75-146">L’agent UE-V vérifie cet emplacement une fois par jour et il met à jour son comportement de synchronisation en fonction des modèles figurant dans ce dossier.</span><span class="sxs-lookup"><span data-stu-id="27b75-146">The UE-V agent checks this location once each day and it updates its synchronization behavior based on the templates in this folder.</span></span> <span data-ttu-id="27b75-147">Les modèles ajoutés ou mis à jour dans ce dossier depuis la dernière vérification sont inscrits par l’agent UE-V.</span><span class="sxs-lookup"><span data-stu-id="27b75-147">The templates that were added or updated in this folder since the last check are registered by the UE-V agent.</span></span> <span data-ttu-id="27b75-148">UE-V agent annule les modèles supprimés de ce dossier.</span><span class="sxs-lookup"><span data-stu-id="27b75-148">The UE-V agent deregisters the templates that were removed from this folder.</span></span> <span data-ttu-id="27b75-149">Les modèles sont inscrits et annulés une fois par jour par le planificateur de tâches.</span><span class="sxs-lookup"><span data-stu-id="27b75-149">Templates are registered and unregistered one time per day by the task scheduler.</span></span> <span data-ttu-id="27b75-150">Si vous n’utilisez que les modèles d’emplacement des paramètres par défaut qui sont inclus dans UE-V, il est inutile d’utiliser un catalogue de modèles de paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-150">If you will use only the default settings location templates that are included with UE-V, then a settings template catalog is unnecessary.</span></span> <span data-ttu-id="27b75-151">Pour plus d’informations sur les paramètres des catalogues de déploiement, voir [planification du déploiement de modèles personnalisés pour UE-V 1,0](planning-for-custom-template-deployment-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="27b75-151">For more information about settings deployment catalogs, see [Planning for Custom Template Deployment for UE-V 1.0](planning-for-custom-template-deployment-for-ue-v-10.md).</span></span>

## <span data-ttu-id="27b75-152">Générateur de virtualisation d’utilisation de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="27b75-152">User Experience Virtualization Generator</span></span>


<span data-ttu-id="27b75-153">Le générateur de virtualisation des utilisateurs vous permet de créer des modèles d’emplacement des paramètres personnalisés qui stockeront les emplacements des applications qui sont utilisées dans l’entreprise et que vous souhaitez inclure dans la solution des paramètres d’itinérance.</span><span class="sxs-lookup"><span data-stu-id="27b75-153">The User Experience Virtualization Generator enables you to create custom settings location templates which will store the settings locations of the applications that are used in the enterprise and that you want to include in the roaming settings solution.</span></span> <span data-ttu-id="27b75-154">Le générateur UE-V cherche à découvrir les emplacements des valeurs de Registre et les fichiers de paramètres des applications, puis enregistre ces emplacements dans un fichier XML de modèle d’emplacement des paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-154">The UE-V Generator will seek to discover the locations of registry values and the settings files for applications and then it will record those locations in a settings location template XML file.</span></span> <span data-ttu-id="27b75-155">Vous pouvez ensuite distribuer ces modèles d’emplacement des paramètres sur les ordinateurs des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="27b75-155">You can then distribute these settings location templates to the user computers.</span></span> <span data-ttu-id="27b75-156">Le générateur UE-V permet également à un administrateur de modifier un modèle existant ou de valider un modèle qui a été créé dans un autre éditeur XML.</span><span class="sxs-lookup"><span data-stu-id="27b75-156">The UE-V Generator also allows an administrator to edit an existing template or validate a template that was created with another XML editor.</span></span>

<span data-ttu-id="27b75-157">Le générateur UE-V analyse une application pour découvrir et enregistrer le lieu de stockage de ses paramètres.</span><span class="sxs-lookup"><span data-stu-id="27b75-157">The UE-V Generator monitors an application to discover and record where it stores its settings.</span></span> <span data-ttu-id="27b75-158">Pour ce faire, il surveille l’emplacement de lecture ou d’écriture de l’application dans le registre HKEY \ _CURRENT \ _USER ou dans les dossiers de fichiers sous **utilisateurs** \ \ \ [nom d’utilisateur \] **\ \**  \\  AppData\*\*itinérance et utilisateurs*\* \ \ \ [nom d’utilisateur \] \ \ **AppData**  \\  **local**.</span><span class="sxs-lookup"><span data-stu-id="27b75-158">To do this, it monitors where the application reads or writes in the HKEY\_CURRENT\_USER registry or in the file folders under **Users** \\ \[User name\] \\ **AppData** \\ **Roaming and Users** \\ \[User name\] \\ **AppData** \\ **Local**.</span></span>

<span data-ttu-id="27b75-159">Le processus de découverte exclut les clés de Registre et les fichiers auxquels l’utilisateur connecté ne peut pas écrire de valeurs.</span><span class="sxs-lookup"><span data-stu-id="27b75-159">The discovery process excludes registry keys and files to which the logged-in user cannot write values.</span></span> <span data-ttu-id="27b75-160">Aucun d’entre eux n’est inclus dans le fichier XML.</span><span class="sxs-lookup"><span data-stu-id="27b75-160">None of these will be included in the XML file.</span></span> <span data-ttu-id="27b75-161">Le processus de découverte exclut également les clés de Registre et les fichiers associés aux fonctionnalités principales du système d’exploitation Windows.</span><span class="sxs-lookup"><span data-stu-id="27b75-161">The discovery process also excludes registry keys and files that are associated with the core functionality of the Windows operating system.</span></span>

<span data-ttu-id="27b75-162">Pour plus d’informations sur le générateur UE-V, voir [installation du générateur UE-v](installing-the-ue-v-generator.md).</span><span class="sxs-lookup"><span data-stu-id="27b75-162">For more information about the UE-V Generator, see [Installing the UE-V Generator](installing-the-ue-v-generator.md).</span></span>

## <span data-ttu-id="27b75-163">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="27b75-163">Related topics</span></span>


[<span data-ttu-id="27b75-164">Microsoft User Experience Virtualization (UE-V)1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-164">Microsoft User Experience Virtualization (UE-V) 1.0</span></span>](index.md)

[<span data-ttu-id="27b75-165">Prise en main de User Experience Virtualization1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-165">Getting Started With User Experience Virtualization 1.0</span></span>](getting-started-with-user-experience-virtualization-10.md)

[<span data-ttu-id="27b75-166">À propos d'User Experience Virtualization1.0</span><span class="sxs-lookup"><span data-stu-id="27b75-166">About User Experience Virtualization 1.0</span></span>](about-user-experience-virtualization-10.md)

[<span data-ttu-id="27b75-167">Utilisation de modèles UE-V personnalisés et du Générateur UE-V</span><span class="sxs-lookup"><span data-stu-id="27b75-167">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

 

 





