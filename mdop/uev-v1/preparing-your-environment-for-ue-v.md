---
title: Préparation de votre environnement pour UE-V
description: Préparation de votre environnement pour UE-V
author: dansimp
ms.assetid: c93d3b33-e032-451a-9e1b-8534e1625396
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 8f806f3c326bad5204a7f1ee69e11b61177e3cce
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/26/2020
ms.locfileid: "10810680"
---
# <span data-ttu-id="587f1-103">Préparation de votre environnement pour UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-103">Preparing Your Environment for UE-V</span></span>


<span data-ttu-id="587f1-104">La virtualisation de l’interface utilisateur de Microsoft (UE-V) réutilise les paramètres d’ordinateurs en utilisant l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-104">Microsoft User Experience Virtualization (UE-V) roams settings between computers by the use of a settings storage location.</span></span> <span data-ttu-id="587f1-105">L’emplacement de stockage des paramètres est un partage de fichiers et doit être configuré lors du déploiement de l’agent UE-V.</span><span class="sxs-lookup"><span data-stu-id="587f1-105">The settings storage location is a file share and should be configured during the UE-V Agent deployment.</span></span> <span data-ttu-id="587f1-106">Elle doit être définie en tant qu’emplacement de stockage des paramètres ou en tant qu’annuaire racine Active Directory.</span><span class="sxs-lookup"><span data-stu-id="587f1-106">It must be defined either as a settings storage location or as an Active Directory home directory.</span></span> <span data-ttu-id="587f1-107">Par ailleurs, l’administrateur doit configurer un serveur de temps pour qu’il prenne en charge une synchronisation cohérente.</span><span class="sxs-lookup"><span data-stu-id="587f1-107">In addition, the administrator should configure a time server to support consistent synchronization.</span></span> <span data-ttu-id="587f1-108">Pour préparer votre environnement pour UE-V, vous devez tenir compte des éléments suivants:</span><span class="sxs-lookup"><span data-stu-id="587f1-108">To prepare your environment for UE-V, you should consider the following:</span></span>

-   <span data-ttu-id="587f1-109">[Stockage des paramètres d’UE-V](#bkmk-uevsettingsstorage):</span><span class="sxs-lookup"><span data-stu-id="587f1-109">[UE-V Settings Storage](#bkmk-uevsettingsstorage):</span></span>

    -   [<span data-ttu-id="587f1-110">Définition d’un emplacement de stockage des paramètres</span><span class="sxs-lookup"><span data-stu-id="587f1-110">Defining a Settings Storage Location</span></span>](#bkmk-definingsettingsstoragelocation)

    -   [<span data-ttu-id="587f1-111">Utiliser le répertoire de base Active Directory avec UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-111">Using Active Directory Home Directory with UE-V</span></span>](#bkmk-usingactivedirectoryhomedirectory)

-   [<span data-ttu-id="587f1-112">Synchroniser les horloges de l’ordinateur pour la synchronisation des paramètres d’UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-112">Synchronize Computer Clocks for UE-V Settings Synchronization</span></span>](#bkmk-synchronizecomputerclocks)

-   [<span data-ttu-id="587f1-113">Planification des performances et de la capacité</span><span class="sxs-lookup"><span data-stu-id="587f1-113">Performance and Capacity Planning</span></span>](#bkmk-performancecapacityplanning)

<span data-ttu-id="587f1-114">Pour plus d’informations sur le système d’exploitation et les exigences informatiques, voir [Configurations prises en charge pour UE-V 1,0](supported-configurations-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="587f1-114">For more information about operating system and computer requirements, see [Supported Configurations for UE-V 1.0](supported-configurations-for-ue-v-10.md).</span></span>

## <a href="" id="bkmk-uevsettingsstorage"></a><span data-ttu-id="587f1-115">Stockage des paramètres d’UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-115">UE-V settings storage</span></span>


<span data-ttu-id="587f1-116">Vous pouvez définir le stockage des paramètres de virtualisation de l’utilisation de l’utilisateur dans l’une des deux configurations suivantes: un emplacement de stockage des paramètres ou un répertoire d’accueil Active Directory.</span><span class="sxs-lookup"><span data-stu-id="587f1-116">You can define the User Experience Virtualization settings storage in one of two configurations: a settings storage location or an Active Directory home directory.</span></span>

### <a href="" id="bkmk-definingsettingsstoragelocation"></a><span data-ttu-id="587f1-117">Définir un emplacement de stockage des paramètres</span><span class="sxs-lookup"><span data-stu-id="587f1-117">Define a settings storage location</span></span>

<span data-ttu-id="587f1-118">L’emplacement de stockage des paramètres d’UE-V est un partage réseau standard accessible aux utilisateurs d’UE-V.</span><span class="sxs-lookup"><span data-stu-id="587f1-118">The UE-V settings storage location is a standard network share that is accessible by UE-V users.</span></span> <span data-ttu-id="587f1-119">Avant de définir l’emplacement de stockage des paramètres, vous devez créer un répertoire racine.</span><span class="sxs-lookup"><span data-stu-id="587f1-119">Before you define the settings storage location, you must create a root directory.</span></span> <span data-ttu-id="587f1-120">Les utilisateurs qui stockeront des paramètres sur le partage doivent disposer d’autorisations en lecture/écriture sur l’emplacement de stockage.</span><span class="sxs-lookup"><span data-stu-id="587f1-120">Users who will store settings on the share must have read/write permissions to the storage location.</span></span> <span data-ttu-id="587f1-121">L’agent UE-V va créer des dossiers propres à l’utilisateur sous cet annuaire racine.</span><span class="sxs-lookup"><span data-stu-id="587f1-121">The UE-V Agent will create user-specific folders under this root directory.</span></span> <span data-ttu-id="587f1-122">L’emplacement de stockage des paramètres est défini en définissant l’option de configuration **SettingsStoragePath** .</span><span class="sxs-lookup"><span data-stu-id="587f1-122">The settings storage location is defined by setting the **SettingsStoragePath** configuration option.</span></span> <span data-ttu-id="587f1-123">Vous pouvez configurer cette option de l’une des façons suivantes:</span><span class="sxs-lookup"><span data-stu-id="587f1-123">This option can be configured in the following ways:</span></span>

-   <span data-ttu-id="587f1-124">Lors de l’installation de l’agent UE-V par le biais d’un paramètre de ligne de commande ou d’un script de commandes.</span><span class="sxs-lookup"><span data-stu-id="587f1-124">During the installation of the UE-V agent through a command-line parameter or in a batch script.</span></span>

-   <span data-ttu-id="587f1-125">À l’aide d’une stratégie de groupe.</span><span class="sxs-lookup"><span data-stu-id="587f1-125">Using Group Policy.</span></span>

-   <span data-ttu-id="587f1-126">Après l’installation, à l’aide de PowerShell ou WMI.</span><span class="sxs-lookup"><span data-stu-id="587f1-126">After installation, by using PowerShell or WMI.</span></span>

<span data-ttu-id="587f1-127">Le chemin d’accès doit être dans un chemin UNC (Universal Naming Convention) du serveur et le partage.</span><span class="sxs-lookup"><span data-stu-id="587f1-127">The path must be in a universal naming convention (UNC) path of the server and share.</span></span> <span data-ttu-id="587f1-128">Par exemple, **\\\\server\\settingsshare\\**.</span><span class="sxs-lookup"><span data-stu-id="587f1-128">For example, **\\\\server\\settingsshare\\**.</span></span> <span data-ttu-id="587f1-129">Cette option de configuration prend en charge l’utilisation de variables pour activer des scénarios d’itinérance spécifiques.</span><span class="sxs-lookup"><span data-stu-id="587f1-129">This configuration option supports the use of variables to enable specific roaming scenarios.</span></span>

<span data-ttu-id="587f1-130">Vous pouvez utiliser la `%username%` variable avec le chemin UNC du serveur et partager.</span><span class="sxs-lookup"><span data-stu-id="587f1-130">You can use the `%username%` variable with the UNC path of the server and share.</span></span> <span data-ttu-id="587f1-131">Cela vous permettra de bénéficier de la même configuration sur tous les ordinateurs ou toutes les sessions auxquelles un utilisateur se connecte.</span><span class="sxs-lookup"><span data-stu-id="587f1-131">This will provide the same settings experience on all computers or sessions that a user logs into.</span></span> <span data-ttu-id="587f1-132">Tenez compte de cette configuration dans les cas suivants:</span><span class="sxs-lookup"><span data-stu-id="587f1-132">Consider this configuration for the following scenarios:</span></span>

1.  <span data-ttu-id="587f1-133">Les utilisateurs de l’entreprise disposent de plusieurs ordinateurs physiques configurés de la même manière et les paramètres de chaque utilisateur doivent être identiques sur tous les ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-133">Users in the enterprise have multiple, similarly configured physical computers and each user’s settings should be the same across all computers.</span></span>

2.  <span data-ttu-id="587f1-134">Les utilisateurs de l’entreprise utilisent des pools d’infrastructure VDI (Virtual Desktop Infrastructure) où les paramètres doivent être conservés dans les sessions VDI de chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="587f1-134">Users in the enterprise use virtual desktop infrastructure (VDI) pools where settings should be retained across each user’s VDI sessions.</span></span>

3.  <span data-ttu-id="587f1-135">Les utilisateurs de l’entreprise disposent d’un ordinateur physique et utilisent également un VDI.</span><span class="sxs-lookup"><span data-stu-id="587f1-135">Users in the enterprise have one physical computer and additionally use a VDI.</span></span> <span data-ttu-id="587f1-136">L’utilisation des paramètres de l’utilisateur doit être identique à celle de l’ordinateur physique ou de la session VDI.</span><span class="sxs-lookup"><span data-stu-id="587f1-136">Each user’s settings experience should be the same whether using the physical computer or VDI session.</span></span>

4.  <span data-ttu-id="587f1-137">Plusieurs ordinateurs d’entreprise sont utilisés par plusieurs utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-137">Multiple enterprise computers are used by multiple users.</span></span> <span data-ttu-id="587f1-138">L’utilisation des paramètres de l’utilisateur doit être identique sur tous les ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-138">Each user’s settings experience should be the same across all computers.</span></span>

<span data-ttu-id="587f1-139">Vous pouvez utiliser les variables **%username%\\%ComputerName%** avec le chemin UNC du serveur et partager.</span><span class="sxs-lookup"><span data-stu-id="587f1-139">You can use the **%username%\\%computername%** variables with the UNC path of the server and share.</span></span> <span data-ttu-id="587f1-140">Cela préserve l’option de configuration pour chaque ordinateur.</span><span class="sxs-lookup"><span data-stu-id="587f1-140">This will preserve the settings experience for each computer.</span></span> <span data-ttu-id="587f1-141">Tenez compte de cette configuration dans les cas suivants:</span><span class="sxs-lookup"><span data-stu-id="587f1-141">Consider this configuration for the following scenarios:</span></span>

1.  <span data-ttu-id="587f1-142">Les utilisateurs de l’entreprise disposent de plusieurs ordinateurs physiques et vous voulez conserver l’interface des paramètres pour chaque ordinateur.</span><span class="sxs-lookup"><span data-stu-id="587f1-142">Users in the enterprise have multiple physical computers and you want to preserve the settings experience for each computer.</span></span>

2.  <span data-ttu-id="587f1-143">Les ordinateurs d’entreprise sont utilisés par plusieurs utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-143">The enterprise computers are used by multiple users.</span></span> <span data-ttu-id="587f1-144">L’utilisation des paramètres doit être préservée pour chaque ordinateur sur lequel l’utilisateur se connecte.</span><span class="sxs-lookup"><span data-stu-id="587f1-144">The settings experience should be preserved for each computer that the user logs into.</span></span>

<span data-ttu-id="587f1-145">L’agent UE-V crée dynamiquement le chemin de stockage des paramètres spécifique à l’utilisateur en fonction du paramètre de configuration d’UE-V `SettingsStoragePath` et des variables définies.</span><span class="sxs-lookup"><span data-stu-id="587f1-145">The UE-V agent dynamically creates the user-specific settings storage path based on a UE-V `SettingsStoragePath` configuration setting and the variables that are defined.</span></span>

<span data-ttu-id="587f1-146">L’agent UE-V crée dynamiquement un dossier système caché nommé `SettingsPackages` dans chaque emplacement de stockage spécifique à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="587f1-146">The UE-V agent dynamically creates a hidden system folder named `SettingsPackages` within each user-specific storage location.</span></span> <span data-ttu-id="587f1-147">Le l’agent UE-V lit et écrit les paramètres dans cet emplacement, tel que défini par les modèles d’emplacement des paramètres UE-V enregistrés.</span><span class="sxs-lookup"><span data-stu-id="587f1-147">The UE-V agent reads and writes settings to this location as defined by registered UE-V settings location templates.</span></span>

<span data-ttu-id="587f1-148">Si l’emplacement de stockage des paramètres est le même pour un ensemble d’ordinateurs gérés d’un utilisateur, les paramètres UE-V applicables sont déterminés par une règle «dernier enregistrement WINS».</span><span class="sxs-lookup"><span data-stu-id="587f1-148">If the settings storage location is the same for a set of managed computers of a user, the applicable UE-V settings are determined by a “Last write wins” rule.</span></span> <span data-ttu-id="587f1-149">L’agent qui s’exécute sur un ordinateur lit et écrit à l’emplacement des paramètres indépendamment des agents qui s’exécutent sur d’autres ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-149">The agent that runs on one computer reads and writes to the settings location independently of agents that run on other computers.</span></span> <span data-ttu-id="587f1-150">Les derniers paramètres et valeurs écrits sont les paramètres qui sont appliqués lorsque l’agent suivant lit à partir de l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-150">The last settings and values written are the settings that are applied when the next agent reads from the settings storage location.</span></span> <span data-ttu-id="587f1-151">Pour plus d’informations, reportez-vous à [déploiement de l’emplacement de stockage des paramètres pour UE-V 1,0](deploying-the-settings-storage-location-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="587f1-151">For more information, see [Deploying the Settings Storage Location for UE-V 1.0](deploying-the-settings-storage-location-for-ue-v-10.md).</span></span>

### <a href="" id="bkmk-usingactivedirectoryhomedirectory"></a><span data-ttu-id="587f1-152">Utiliser le répertoire de base Active Directory avec UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-152">Use Active Directory home directory with UE-V</span></span>

<span data-ttu-id="587f1-153">Si aucun emplacement de stockage des paramètres n’est configuré pour UE-V lors du déploiement de l’agent, le répertoire de base Active Directory (AD) de l’utilisateur est utilisé pour stocker les packages de localisation des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-153">If no settings storage location is configured for UE-V when the agent is deployed, then the user’s Active Directory (AD) home directory is used to store settings location packages.</span></span> <span data-ttu-id="587f1-154">L’agent UE-V crée dynamiquement le dossier de stockage des paramètres en dessous de la racine du répertoire de base AD de chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="587f1-154">The UE-V agent dynamically creates the settings storage folder below the root of the AD home directory of each user.</span></span> <span data-ttu-id="587f1-155">L’agent n’utilise le répertoire de base Active Directory que si un emplacement de stockage des paramètres (SettingsStoragePath) n’est pas défini pour le contraire.</span><span class="sxs-lookup"><span data-stu-id="587f1-155">The agent only uses the Active Directory home directory if a settings storage location (SettingsStoragePath) is not otherwise defined.</span></span>

## <a href="" id="bkmk-synchronizecomputerclocks"></a><span data-ttu-id="587f1-156">Synchroniser les horloges de l’ordinateur pour la synchronisation des paramètres d’UE-V</span><span class="sxs-lookup"><span data-stu-id="587f1-156">Synchronize computer clocks for UE-V settings synchronization</span></span>


<span data-ttu-id="587f1-157">Les ordinateurs qui exécutent l’agent UE-V pour synchroniser les paramètres doivent utiliser un serveur de temps.</span><span class="sxs-lookup"><span data-stu-id="587f1-157">Computers that run the UE-V agent to synchronize settings must use a time server.</span></span> <span data-ttu-id="587f1-158">Les horodatages permettent de déterminer si les paramètres doivent être synchronisés à partir de l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-158">Time stamps are used to determine if settings need to be synchronized from the settings storage location.</span></span> <span data-ttu-id="587f1-159">Si l’horloge de l’ordinateur est incorrecte, les paramètres plus anciens peuvent remplacer les paramètres plus récents, ou les nouveaux paramètres peuvent ne pas être enregistrés dans l’emplacement de stockage des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-159">If the computer clock is inaccurate, older settings can overwrite newer settings, or the new settings might not be saved to the settings storage location.</span></span> <span data-ttu-id="587f1-160">L’utilisation d’un serveur de temps permet à UE-V de garantir une utilisation homogène des paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-160">The use of a time server enables UE-V to maintain a consistent settings experience.</span></span>

## <a href="" id="bkmk-performancecapacityplanning"></a><span data-ttu-id="587f1-161">Planification des performances et de la capacité</span><span class="sxs-lookup"><span data-stu-id="587f1-161">Performance and capacity planning</span></span>


<span data-ttu-id="587f1-162">La capacité requise pour UE-V peut être déterminée à l’aide de la capacité de disque standard et de la surveillance de l’état du réseau.</span><span class="sxs-lookup"><span data-stu-id="587f1-162">Capacity requirements for UE-V can be determined by use of standard disk capacity and network health monitoring.</span></span> <span data-ttu-id="587f1-163">UE-V utilise un partage SMB (Server Message Block) pour le stockage des packages de paramètres.</span><span class="sxs-lookup"><span data-stu-id="587f1-163">UE-V uses a Server Message Block (SMB) share for the storage of settings packages.</span></span> <span data-ttu-id="587f1-164">La taille des packages varie en fonction des informations de paramètres d’une application spécifique.</span><span class="sxs-lookup"><span data-stu-id="587f1-164">The size of settings packages varies depending on the settings information for a specific application.</span></span> <span data-ttu-id="587f1-165">Bien que la plupart des packages de paramètres soient petits, la synchronisation de fichiers potentiellement volumineux, tels que les images de bureau, peut entraîner une médiocre performance, en particulier sur les réseaux plus lents.</span><span class="sxs-lookup"><span data-stu-id="587f1-165">While most settings packages are small, the synchronization of potentially large files, such as desktop images, can result in poor performance, particularly on slower networks.</span></span> <span data-ttu-id="587f1-166">Pour limiter les problèmes liés à la latence du réseau, vous devez créer des emplacements de stockage des paramètres sur les mêmes réseaux locaux où résident les ordinateurs des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="587f1-166">To minimize problems with network latency, you should create settings storage locations on the same local networks where the users’ computers reside.</span></span>

<span data-ttu-id="587f1-167">Par défaut, la synchronisation UE-V va expirer après 2 secondes si le réseau est lent ou si le package de paramètres est volumineux.</span><span class="sxs-lookup"><span data-stu-id="587f1-167">By default, the UE-V synchronization will time out after 2 seconds if the network is slow or the settings package is large.</span></span> <span data-ttu-id="587f1-168">Vous pouvez configurer le délai d’expiration avec une stratégie de groupe.</span><span class="sxs-lookup"><span data-stu-id="587f1-168">You can configure the timeout with Group Policy.</span></span> <span data-ttu-id="587f1-169">Pour plus d’informations sur la façon de définir le délai d’expiration, reportez-vous à la rubrique [configuration d’UE-V avec des objets de stratégie de groupe](configuring-ue-v-with-group-policy-objects.md).</span><span class="sxs-lookup"><span data-stu-id="587f1-169">For more information about how to set the timeout, see [Configuring UE-V with Group Policy Objects](configuring-ue-v-with-group-policy-objects.md).</span></span>

## <span data-ttu-id="587f1-170">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="587f1-170">Related topics</span></span>


[<span data-ttu-id="587f1-171">Microsoft User Experience Virtualization (UE-V)1.0</span><span class="sxs-lookup"><span data-stu-id="587f1-171">Microsoft User Experience Virtualization (UE-V) 1.0</span></span>](index.md)

[<span data-ttu-id="587f1-172">Planification pour UE-V1.0</span><span class="sxs-lookup"><span data-stu-id="587f1-172">Planning for UE-V 1.0</span></span>](planning-for-ue-v-10.md)

[<span data-ttu-id="587f1-173">Configurations prises en charge pour UE-V1.0</span><span class="sxs-lookup"><span data-stu-id="587f1-173">Supported Configurations for UE-V 1.0</span></span>](supported-configurations-for-ue-v-10.md)

 

 





